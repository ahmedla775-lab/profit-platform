<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Groupe des 22</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:#0F172A;
  color:#F8FAFC;
}
.app{
  max-width:420px;
  margin:auto;
  padding:1rem;
}
.hidden{display:none}

.card{
  background:rgba(30,41,59,.9);
  border-radius:18px;
  padding:1rem;
  margin-bottom:1rem;
  box-shadow:0 0 15px rgba(0,0,0,.3);
}

h2,h3{margin:.2rem 0}

.btn{
  width:100%;
  padding:.8rem;
  border:none;
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
}
.primary{
  background:#10B981;
  color:#fff;
}
.secondary{
  background:#F59E0B;
  color:#000;
}

input,select{
  width:100%;
  padding:.6rem;
  border-radius:12px;
  border:none;
  background:#334155;
  color:#fff;
  margin:.3rem 0;
}

.level{
  border:1px solid rgba(255,255,255,.1);
  padding:.7rem;
  border-radius:14px;
  margin-top:.5rem;
}

.balance-box{
  display:flex;
  gap:.5rem;
}
.balance{
  flex:1;
  background:#020617;
  padding:.7rem;
  border-radius:12px;
  text-align:center;
}
.small{font-size:.85rem;color:#94A3B8}
.disabled{opacity:.5;pointer-events:none}
</style>
</head>

<body>
<div class="app">

<!-- LOGIN -->
<div id="login">
  <h2>تسجيل الدخول</h2>
  <input id="u" placeholder="اسم المستخدم">
  <input id="p" type="password" placeholder="كلمة السر">
  <button class="btn primary" onclick="login()">دخول</button>
</div>

<!-- PANEL -->
<div id="panel" class="hidden">

<h3 id="welcome"></h3>

<div class="balance-box">
  <div class="balance">DZD<br><b id="dzd">0</b></div>
  <div class="balance">USDT<br><b id="usdt">0</b></div>
</div>

<!-- LEVELS -->
<div class="card">
<h3>المستويات</h3>
<div id="levels"></div>
</div>

<!-- TASK -->
<div class="card">
<h3>المهمة اليومية</h3>
<p id="taskText">—</p>
<button id="taskBtn" class="btn primary" onclick="doTask()">تنفيذ المهمة</button>
</div>

<button class="btn secondary" onclick="logout()">تسجيل خروج</button>

</div>
</div>

<script>
const levels=[
 {name:"تجريبي",deposit:0,reward:50},
 {name:"المستوى 1",deposit:2500,reward:70},
 {name:"المستوى 2",deposit:5200,reward:150},
 {name:"المستوى 3",deposit:20000,reward:500},
 {name:"المستوى 4",deposit:40000,reward:1100},
];

let users=JSON.parse(localStorage.users||"{}");
let user,data;

function login(){
  const u=document.getElementById("u").value;
  const p=document.getElementById("p").value;
  if(!users[u]) users[u]={p,dzd:0,usdt:0,level:0,lastTask:0};
  if(users[u].p!==p) return alert("كلمة السر خاطئة");
  user=u; data=users[u];
  loginDiv.style.display="none";
  panel.classList.remove("hidden");
  welcome.innerText="مرحباً "+u;
  render();
}

const loginDiv=document.getElementById("login");

function render(){
  dzd.innerText=data.dzd;
  usdt.innerText=data.usdt;
  renderLevels();
  checkTask();
  save();
}

function renderLevels(){
  const box=document.getElementById("levels");
  box.innerHTML="";
  levels.forEach((l,i)=>{
    const div=document.createElement("div");
    div.className="level";
    div.innerHTML=`
      <b>${l.name}</b>
      <div class="small">الإيداع: ${l.deposit} دج</div>
      <div class="small">المهمة اليومية: ${l.reward} دج</div>
      ${i===data.level
        ?"<div class='small'>✅ مفعل</div>"
        :"<button class='btn primary' onclick='requestLevel("+i+")'>طلب تفعيل</button>"
      }
    `;
    box.appendChild(div);
  });
}

function requestLevel(i){
  const msg=`طلب تفعيل مستوى\nالمستخدم: ${user}\nالمستوى: ${levels[i].name}`;
  window.open("https://wa.me/213660624409?text="+encodeURIComponent(msg));
}

function doTask(){
  const now=Date.now();
  if(now-data.lastTask<86400000) return;
  data.lastTask=now;
  data.dzd+=levels[data.level].reward;
  render();
}

function checkTask(){
  if(Date.now()-data.lastTask<86400000){
    taskText.innerText="تم إنجاز مهمة اليوم";
    taskBtn.classList.add("disabled");
  }else{
    taskText.innerText="مكافأة: "+levels[data.level].reward+" دج";
    taskBtn.classList.remove("disabled");
  }
}

function save(){localStorage.users=JSON.stringify(users)}
function logout(){location.reload()}
</script>
</body>
</html>
